\input{../../Headers/WPHeader.tex}


\title{Docker}


\date{}


\maketitle

\justify

\renewcommand{\abstractname}{}

\begin{abstract}

\end{abstract}



\section*{Basic commands}

\subsection*{List containers}

\texttt{docker ps}

Exited containers: 

\texttt{docker ps -a -f status=exited}

Copy files: docker cp
(from stopped containers also)


\subsection*{List images}

\texttt{docker images}

\texttt{docker images -f dangling=true}

(to remove dangling: \texttt{docker images purge})


\subsection*{Remove}

Remove image \texttt{docker rmi}

Remove container \texttt{docker rm}

(remove all exited containers: \texttt{docker rm \$(docker ps -a -f status=exited -q)}


\subsection*{Run}


Run an image in a new container in interactive mode

\texttt{docker run --name \$NAME -it \$IMAGE}

(rm previous container with docker rm if name not available)

Option: --rm remove the container on exit

Environment variables: --env MYVAR2=foo

Restart an exited container

\texttt{docker start \$ID}

Attach to it

\texttt{docker attach \$ID}

Bind volumes -v HOST:CONTAINER
$\rightarrow$ can not reverse mount? (access files in container form outside)


\subsection*{Duplicate image}


Tag an image with a new name

\texttt{docker tage source:tag target:tag}

\subsection*{Commit}

Diff: docker diff \$CONTAINER

Commit changes in a container to an image

\texttt{sudo docker commit -m \$MESSAGE \$CONTAINER \$IMAGE:\$TAG}

\bigskip

Push changes to repository

(dockerhub: docker.io)

\texttt{docker login \$HOST}

\texttt{docker push \$IMAGE:\$TAG}



\subsection*{Save}


Save an image to a compressed archive

\texttt{docker save \$IMAGE:\$TAG | gzip > \$FILE.tgz }

\subsection*{Clean}

Remove image: docker rmi

docker images prune

Clean everything: docker system prune



%%%%%%%%%%%%%%%%%%%%
%% Biblio
%%%%%%%%%%%%%%%%%%%%

%\bibliographystyle{apalike}
%\bibliography{/Users/Juste/Documents/ComplexSystems/CityNetwork/Biblio/Bibtex/CityNetwork}


\end{document}
